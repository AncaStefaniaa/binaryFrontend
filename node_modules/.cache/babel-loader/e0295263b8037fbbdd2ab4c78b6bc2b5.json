{"ast":null,"code":"import _slicedToArray from\"/home/andrei/itfest2019/ionic-react-conference-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonItemDivider,IonItemGroup,IonLabel,IonList,IonListHeader,IonAlert}from'@ionic/react';import React,{useState,useCallback}from'react';import SessionListItem from'./SessionListItem';import{Time}from'../components/Time';import{connect}from'../data/connect';import{addFavorite,removeFavorite}from'../data/sessions/sessions.actions';;var SessionList=function SessionList(_ref){var addFavorite=_ref.addFavorite,removeFavorite=_ref.removeFavorite,favoriteSessions=_ref.favoriteSessions,hide=_ref.hide,sessionGroups=_ref.sessionGroups,listType=_ref.listType;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAlert=_useState2[0],setShowAlert=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),alertHeader=_useState4[0],setAlertHeader=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),alertButtons=_useState6[0],setAlertButtons=_useState6[1];var handleShowAlert=useCallback(function(header,buttons){setAlertHeader(header);setAlertButtons(buttons);setShowAlert(true);},[]);if(sessionGroups.length===0&&!hide){return React.createElement(IonList,null,React.createElement(IonListHeader,null,\"No Sessions Found\"));}return React.createElement(React.Fragment,null,React.createElement(IonList,{style:hide?{display:'none'}:{}},sessionGroups.map(function(group,index){return React.createElement(IonItemGroup,{key:\"group-\".concat(index)},React.createElement(IonItemDivider,{sticky:true},React.createElement(IonLabel,null,React.createElement(Time,{date:group.startTime}))),group.sessions.map(function(session,sessionIndex){return React.createElement(SessionListItem,{onShowAlert:handleShowAlert,isFavorite:favoriteSessions.indexOf(session.id)>-1,onAddFavorite:addFavorite,onRemoveFavorite:removeFavorite,key:\"group-\".concat(index,\"-\").concat(sessionIndex),session:session,listType:listType});}));})),React.createElement(IonAlert,{isOpen:showAlert,header:alertHeader,buttons:alertButtons,onDidDismiss:function onDidDismiss(){return setShowAlert(false);}}));};export default connect({mapStateToProps:function mapStateToProps(state){return{favoriteSessions:state.data.favorites};},mapDispatchToProps:{addFavorite:addFavorite,removeFavorite:removeFavorite},component:SessionList});","map":{"version":3,"sources":["/home/andrei/itfest2019/ionic-react-conference-app/src/components/SessionList.tsx"],"names":["IonItemDivider","IonItemGroup","IonLabel","IonList","IonListHeader","IonAlert","React","useState","useCallback","SessionListItem","Time","connect","addFavorite","removeFavorite","SessionList","favoriteSessions","hide","sessionGroups","listType","showAlert","setShowAlert","alertHeader","setAlertHeader","alertButtons","setAlertButtons","handleShowAlert","header","buttons","length","display","map","group","index","startTime","sessions","session","sessionIndex","indexOf","id","mapStateToProps","state","data","favorites","mapDispatchToProps","component"],"mappings":"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","sourcesContent":["import { IonItemDivider, IonItemGroup, IonLabel, IonList, IonListHeader, IonAlert, AlertButton } from '@ionic/react';\nimport React, { useState, useCallback } from 'react';\nimport { Session } from '../models/Session';\nimport SessionListItem from './SessionListItem';\nimport { SessionGroup } from '../models/SessionGroup';\nimport { Time } from '../components/Time';\nimport { connect } from '../data/connect';\nimport { addFavorite, removeFavorite } from '../data/sessions/sessions.actions';\n\ninterface OwnProps {\n  sessionGroups: SessionGroup[]\n  listType: 'all' | 'favorites'\n  hide: boolean;\n}\n\ninterface StateProps {\n  favoriteSessions: number[];\n}\n\ninterface DispatchProps {\n  addFavorite: typeof addFavorite;\n  removeFavorite: typeof removeFavorite;\n}\n\ninterface SessionListProps extends OwnProps, StateProps, DispatchProps { };\n\nconst SessionList: React.FC<SessionListProps> = ({ addFavorite, removeFavorite, favoriteSessions, hide, sessionGroups, listType }) => {\n\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertHeader, setAlertHeader] = useState('');\n  const [alertButtons, setAlertButtons] = useState<(AlertButton | string)[]>([]);\n\n  const handleShowAlert = useCallback((header: string, buttons: AlertButton[]) => {\n    setAlertHeader(header);\n    setAlertButtons(buttons);\n    setShowAlert(true);\n  }, []);\n\n  if (sessionGroups.length === 0 && !hide) {\n    return (\n      <IonList>\n        <IonListHeader>\n          No Sessions Found\n        </IonListHeader>\n      </IonList>\n    );\n  }\n\n  return (\n    <>\n      <IonList style={hide ? { display: 'none' } : {}}>\n        {sessionGroups.map((group, index: number) => (\n          <IonItemGroup key={`group-${index}`}>\n            <IonItemDivider sticky>\n              <IonLabel>\n                <Time date={group.startTime} />\n              </IonLabel>\n            </IonItemDivider>\n            {group.sessions.map((session: Session, sessionIndex: number) => (\n              <SessionListItem\n                onShowAlert={handleShowAlert}\n                isFavorite={favoriteSessions.indexOf(session.id) > -1}\n                onAddFavorite={addFavorite}\n                onRemoveFavorite={removeFavorite}\n                key={`group-${index}-${sessionIndex}`}\n                session={session}\n                listType={listType}\n              />\n            ))}\n          </IonItemGroup>\n        ))}\n      </IonList>\n      <IonAlert\n        isOpen={showAlert}\n        header={alertHeader}\n        buttons={alertButtons}\n        onDidDismiss={() => setShowAlert(false)}\n      ></IonAlert>\n    </>\n  );\n};\n\nexport default connect({\n  mapStateToProps: (state) => ({\n    favoriteSessions: state.data.favorites\n  }),\n  mapDispatchToProps: ({\n    addFavorite,\n    removeFavorite\n  }),\n  component: SessionList\n});"]},"metadata":{},"sourceType":"module"}