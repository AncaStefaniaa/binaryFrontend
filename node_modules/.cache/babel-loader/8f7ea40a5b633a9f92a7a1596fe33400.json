{"ast":null,"code":"import _slicedToArray from \"/home/andrei/itfest2019/ionic-react-conference-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/andrei/itfest2019/ionic-react-conference-app/src/pages/SchedulePage.tsx\";\nimport React, { useState, useRef } from 'react';\nimport { IonToolbar, IonContent, IonPage, IonButtons, IonMenuButton, IonSegment, IonSegmentButton, IonButton, IonIcon, IonSearchbar, IonRefresher, IonRefresherContent, IonToast, IonModal, IonHeader, getConfig } from '@ionic/react';\nimport { connect } from '../data/connect';\nimport { options } from 'ionicons/icons';\nimport SessionList from '../components/SessionList';\nimport SessionListFilter from '../components/SessionListFilter';\nimport './SchedulePage.scss';\nimport * as selectors from '../data/selectors';\nimport { setSearchText } from '../data/sessions/sessions.actions';\nimport ShareSocialFab from '../components/ShareSocialFab';\n\nvar SchedulePage = function SchedulePage(_ref) {\n  var favoriteGroups = _ref.favoriteGroups,\n      sessionGroups = _ref.sessionGroups,\n      setSearchText = _ref.setSearchText,\n      mode = _ref.mode;\n\n  var _useState = useState('all'),\n      _useState2 = _slicedToArray(_useState, 2),\n      segment = _useState2[0],\n      setSegment = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showFilterModal = _useState4[0],\n      setShowFilterModal = _useState4[1];\n\n  var ionRefresherRef = useRef(null);\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showCompleteToast = _useState6[0],\n      setShowCompleteToast = _useState6[1];\n\n  var doRefresh = function doRefresh() {\n    setTimeout(function () {\n      ionRefresherRef.current.complete();\n      setShowCompleteToast(true);\n    }, 2500);\n  };\n\n  return React.createElement(IonPage, {\n    id: \"schedule-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(IonHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(IonButtons, {\n    slot: \"start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(IonMenuButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(IonSegment, {\n    onIonChange: function onIonChange(e) {\n      return setSegment(e.detail.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(IonSegmentButton, {\n    value: \"all\",\n    checked: segment === 'all',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"All\"), React.createElement(IonSegmentButton, {\n    value: \"favorites\",\n    checked: segment === 'favorites',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Favorites\")), React.createElement(IonButtons, {\n    slot: \"end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(IonButton, {\n    onClick: function onClick() {\n      return setShowFilterModal(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, mode === 'ios' ? 'Filter' : React.createElement(IonIcon, {\n    icon: options,\n    slot: \"icon-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })))), React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(IonSearchbar, {\n    placeholder: \"Search\",\n    onIonChange: function onIonChange(e) {\n      return setSearchText(e.detail.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))), React.createElement(IonContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(IonRefresher, {\n    slot: \"fixed\",\n    ref: ionRefresherRef,\n    onIonRefresh: doRefresh,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(IonRefresherContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(IonToast, {\n    isOpen: showCompleteToast,\n    message: \"Refresh complete\",\n    duration: 2000,\n    onDidDismiss: function onDidDismiss() {\n      return setShowCompleteToast(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(SessionList, {\n    sessionGroups: sessionGroups,\n    listType: segment,\n    hide: segment === 'favorites',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(SessionList, {\n    sessionGroups: favoriteGroups,\n    listType: segment,\n    hide: segment === 'all',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })), React.createElement(IonModal, {\n    isOpen: showFilterModal,\n    onDidDismiss: function onDidDismiss() {\n      return setShowFilterModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(SessionListFilter, {\n    onDismissModal: function onDismissModal() {\n      return setShowFilterModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })), React.createElement(ShareSocialFab, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }));\n};\n\nexport default connect({\n  mapStateToProps: function mapStateToProps(state) {\n    return {\n      sessionGroups: selectors.getGroupedSessions(state),\n      favoriteGroups: selectors.getGroupedFavorites(state),\n      mode: getConfig().get('mode')\n    };\n  },\n  mapDispatchToProps: {\n    setSearchText: setSearchText\n  },\n  component: React.memo(SchedulePage)\n});","map":{"version":3,"sources":["/home/andrei/itfest2019/ionic-react-conference-app/src/pages/SchedulePage.tsx"],"names":["React","useState","useRef","IonToolbar","IonContent","IonPage","IonButtons","IonMenuButton","IonSegment","IonSegmentButton","IonButton","IonIcon","IonSearchbar","IonRefresher","IonRefresherContent","IonToast","IonModal","IonHeader","getConfig","connect","options","SessionList","SessionListFilter","selectors","setSearchText","ShareSocialFab","SchedulePage","favoriteGroups","sessionGroups","mode","segment","setSegment","showFilterModal","setShowFilterModal","ionRefresherRef","showCompleteToast","setShowCompleteToast","doRefresh","setTimeout","current","complete","e","detail","value","mapStateToProps","state","getGroupedSessions","getGroupedFavorites","get","mapDispatchToProps","component","memo"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { IonToolbar, IonContent, IonPage, IonButtons, IonMenuButton, IonSegment, IonSegmentButton, IonButton, IonIcon, IonSearchbar, IonRefresher, IonRefresherContent, IonToast, IonModal, IonHeader, getConfig } from '@ionic/react';\nimport { connect } from '../data/connect';\nimport { options } from 'ionicons/icons';\nimport SessionList from '../components/SessionList';\nimport SessionListFilter from '../components/SessionListFilter';\nimport './SchedulePage.scss'\nimport * as selectors from '../data/selectors';\nimport { setSearchText, addFavorite, removeFavorite } from '../data/sessions/sessions.actions';\nimport ShareSocialFab from '../components/ShareSocialFab';\nimport { SessionGroup } from '../models/SessionGroup';\n\ninterface OwnProps { }\n\ninterface StateProps {\n  sessionGroups: SessionGroup[];\n  favoriteGroups: SessionGroup[];\n  mode: 'ios' | 'md'\n}\n\ninterface DispatchProps {\n  setSearchText: typeof setSearchText;\n}\n\ntype SchedulePageProps = OwnProps & StateProps & DispatchProps;\n\nconst SchedulePage: React.FC<SchedulePageProps> = ({ favoriteGroups, sessionGroups, setSearchText, mode }) => {\n  const [segment, setSegment] = useState<'all' | 'favorites'>('all');\n  const [showFilterModal, setShowFilterModal] = useState(false);\n  const ionRefresherRef = useRef<HTMLIonRefresherElement>(null);\n  const [showCompleteToast, setShowCompleteToast] = useState(false);\n\n  const doRefresh = () => {\n    setTimeout(() => {\n      ionRefresherRef.current!.complete();\n      setShowCompleteToast(true);\n    }, 2500)\n  };\n\n  return (\n    <IonPage id=\"schedule-page\">\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n\n          <IonSegment onIonChange={(e) => setSegment(e.detail.value as any)}>\n            <IonSegmentButton value=\"all\" checked={segment === 'all'}>\n              All\n            </IonSegmentButton>\n            <IonSegmentButton value=\"favorites\" checked={segment === 'favorites'}>\n              Favorites\n            </IonSegmentButton>\n          </IonSegment>\n\n          <IonButtons slot=\"end\">\n            <IonButton onClick={() => setShowFilterModal(true)}>\n              {mode === 'ios' ? 'Filter' : <IonIcon icon={options} slot=\"icon-only\" />}\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n\n        <IonToolbar>\n          <IonSearchbar\n            placeholder=\"Search\"\n            onIonChange={(e: CustomEvent) => setSearchText(e.detail.value)}\n          />\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent>\n        <IonRefresher slot=\"fixed\" ref={ionRefresherRef} onIonRefresh={doRefresh}>\n          <IonRefresherContent />\n        </IonRefresher>\n        <IonToast\n          isOpen={showCompleteToast}\n          message=\"Refresh complete\"\n          duration={2000}\n          onDidDismiss={() => setShowCompleteToast(false)}\n        />\n\n        <SessionList\n          sessionGroups={sessionGroups}\n          listType={segment}\n          hide={segment === 'favorites'}\n        />\n        <SessionList\n          sessionGroups={favoriteGroups}\n          listType={segment}\n          hide={segment === 'all'}\n        />\n      </IonContent>\n\n      <IonModal\n        isOpen={showFilterModal}\n        onDidDismiss={() => setShowFilterModal(false)}\n      >\n        <SessionListFilter\n          onDismissModal={() => setShowFilterModal(false)}\n        />\n      </IonModal>\n\n      <ShareSocialFab />\n\n    </IonPage>\n  );\n};\n\nexport default connect<OwnProps, StateProps, DispatchProps>({\n  mapStateToProps: (state) => ({\n    sessionGroups: selectors.getGroupedSessions(state),\n    favoriteGroups: selectors.getGroupedFavorites(state),\n    mode: getConfig()!.get('mode')\n  }),\n  mapDispatchToProps: {\n    setSearchText\n  },\n  component: React.memo(SchedulePage)\n});"]},"metadata":{},"sourceType":"module"}