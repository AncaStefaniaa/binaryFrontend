{"ast":null,"code":"import React from'react';import{IonHeader,IonToolbar,IonContent,IonPage,IonButtons,IonBackButton,IonButton,IonIcon,IonText,IonList,IonItem,IonLabel}from'@ionic/react';import{connect}from'../data/connect';import{withRouter}from'react-router';import*as selectors from'../data/selectors';import{starOutline,star,share,cloudDownload}from'ionicons/icons';import'./SessionDetail.scss';import{Time}from'../components/Time';import{addFavorite,removeFavorite}from'../data/sessions/sessions.actions';;;var SessionDetail=function SessionDetail(_ref){var session=_ref.session,addFavorite=_ref.addFavorite,removeFavorite=_ref.removeFavorite,favoriteSessions=_ref.favoriteSessions;if(!session){return React.createElement(\"div\",null,\"Session not found\");}var isFavorite=favoriteSessions.indexOf(session.id)>-1;var toggleFavorite=function toggleFavorite(){isFavorite?removeFavorite(session.id):addFavorite(session.id);};var shareSession=function shareSession(){};var sessionClick=function sessionClick(text){console.log(\"Clicked \".concat(text));};return React.createElement(IonPage,{id:\"session-detail-page\"},React.createElement(IonHeader,null,React.createElement(IonToolbar,null,React.createElement(IonButtons,{slot:\"start\"},React.createElement(IonBackButton,{defaultHref:\"/tabs/schedule\"})),React.createElement(IonButtons,{slot:\"end\"},React.createElement(IonButton,{onClick:function onClick(){return toggleFavorite();}},isFavorite?React.createElement(IonIcon,{slot:\"icon-only\",icon:star}):React.createElement(IonIcon,{slot:\"icon-only\",icon:starOutline})),React.createElement(IonButton,{onClick:function onClick(){return shareSession;}},React.createElement(IonIcon,{slot:\"icon-only\",icon:share}))))),React.createElement(IonContent,null,React.createElement(\"div\",{className:\"ion-padding\"},React.createElement(\"h1\",null,session.name),session.tracks.map(function(track){return React.createElement(\"span\",{key:track,className:\"session-track-\".concat(track.toLowerCase())},track);}),React.createElement(\"p\",null,session.description),React.createElement(IonText,{color:\"medium\"},React.createElement(Time,{date:session.dateTimeStart}),\" \\u2013 \",React.createElement(Time,{date:session.dateTimeEnd}),React.createElement(\"br\",null),session.location)),React.createElement(IonList,null,React.createElement(IonItem,{onClick:function onClick(){return sessionClick('watch');},button:true},React.createElement(IonLabel,{color:\"primary\"},\"Watch\")),React.createElement(IonItem,{onClick:function onClick(){return sessionClick('add to calendar');},button:true},React.createElement(IonLabel,{color:\"primary\"},\"Add to Calendar\")),React.createElement(IonItem,{onClick:function onClick(){return sessionClick('mark as unwatched');},button:true},React.createElement(IonLabel,{color:\"primary\"},\"Mark as Unwatched\")),React.createElement(IonItem,{onClick:function onClick(){return sessionClick('download video');},button:true},React.createElement(IonLabel,{color:\"primary\"},\"Download Video\"),React.createElement(IonIcon,{slot:\"end\",color:\"primary\",size:\"small\",icon:cloudDownload})),React.createElement(IonItem,{onClick:function onClick(){return sessionClick('leave feedback');},button:true},React.createElement(IonLabel,{color:\"primary\"},\"Leave Feedback\")))));};export default connect({mapStateToProps:function mapStateToProps(state,OwnProps){return{session:selectors.getSession(state,OwnProps),favoriteSessions:state.data.favorites};},mapDispatchToProps:{addFavorite:addFavorite,removeFavorite:removeFavorite},component:withRouter(SessionDetail)});","map":{"version":3,"sources":["/home/andrei/itfest2019/ionic-react-conference-app/src/pages/SessionDetail.tsx"],"names":["React","IonHeader","IonToolbar","IonContent","IonPage","IonButtons","IonBackButton","IonButton","IonIcon","IonText","IonList","IonItem","IonLabel","connect","withRouter","selectors","starOutline","star","share","cloudDownload","Time","addFavorite","removeFavorite","SessionDetail","session","favoriteSessions","isFavorite","indexOf","id","toggleFavorite","shareSession","sessionClick","text","console","log","name","tracks","map","track","toLowerCase","description","dateTimeStart","dateTimeEnd","location","mapStateToProps","state","OwnProps","getSession","data","favorites","mapDispatchToProps","component"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,UAApB,CAAgCC,UAAhC,CAA4CC,OAA5C,CAAqDC,UAArD,CAAiEC,aAAjE,CAAgFC,SAAhF,CAA2FC,OAA3F,CAAoGC,OAApG,CAA6GC,OAA7G,CAAsHC,OAAtH,CAA+HC,QAA/H,KAA+I,cAA/I,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,UAAT,KAAgD,cAAhD,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,mBAA3B,CACA,OAASC,WAAT,CAAsBC,IAAtB,CAA4BC,KAA5B,CAAmCC,aAAnC,KAAwD,gBAAxD,CACA,MAAO,sBAAP,CACA,OAASC,IAAT,KAAqB,oBAArB,CACA,OAASC,WAAT,CAAsBC,cAAtB,KAA4C,mCAA5C,CAGkD,CAKjD,CASD,GAAMC,CAAAA,aAA2C,CAAG,QAA9CA,CAAAA,aAA8C,MAAgE,IAA7DC,CAAAA,OAA6D,MAA7DA,OAA6D,CAApDH,WAAoD,MAApDA,WAAoD,CAAvCC,cAAuC,MAAvCA,cAAuC,CAAvBG,gBAAuB,MAAvBA,gBAAuB,CAElH,GAAI,CAACD,OAAL,CAAc,CACZ,MAAO,oDAAP,CACD,CAED,GAAME,CAAAA,UAAU,CAAGD,gBAAgB,CAACE,OAAjB,CAAyBH,OAAO,CAACI,EAAjC,EAAuC,CAAC,CAA3D,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BH,UAAU,CAAGJ,cAAc,CAACE,OAAO,CAACI,EAAT,CAAjB,CAAgCP,WAAW,CAACG,OAAO,CAACI,EAAT,CAArD,CACD,CAFD,CAGA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAAG,CAA9B,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAkB,CACrCC,OAAO,CAACC,GAAR,mBAAuBF,IAAvB,GACD,CAFD,CAIA,MACE,qBAAC,OAAD,EAAS,EAAE,CAAC,qBAAZ,EACE,oBAAC,SAAD,MACE,oBAAC,UAAD,MACE,oBAAC,UAAD,EAAY,IAAI,CAAC,OAAjB,EACE,oBAAC,aAAD,EAAe,WAAW,CAAC,gBAA3B,EADF,CADF,CAIE,oBAAC,UAAD,EAAY,IAAI,CAAC,KAAjB,EACE,oBAAC,SAAD,EAAW,OAAO,CAAE,yBAAMH,CAAAA,cAAc,EAApB,EAApB,EACGH,UAAU,CACT,oBAAC,OAAD,EAAS,IAAI,CAAC,WAAd,CAA0B,IAAI,CAAET,IAAhC,EADS,CAET,oBAAC,OAAD,EAAS,IAAI,CAAC,WAAd,CAA0B,IAAI,CAAED,WAAhC,EAHJ,CADF,CAOE,oBAAC,SAAD,EAAW,OAAO,CAAE,yBAAMc,CAAAA,YAAN,EAApB,EACE,oBAAC,OAAD,EAAS,IAAI,CAAC,WAAd,CAA0B,IAAI,CAAEZ,KAAhC,EADF,CAPF,CAJF,CADF,CADF,CAmBE,oBAAC,UAAD,MACE,2BAAK,SAAS,CAAC,aAAf,EACE,8BAAKM,OAAO,CAACW,IAAb,CADF,CAEGX,OAAO,CAACY,MAAR,CAAeC,GAAf,CAAmB,SAAAC,KAAK,QACvB,6BAAM,GAAG,CAAEA,KAAX,CAAkB,SAAS,yBAAmBA,KAAK,CAACC,WAAN,EAAnB,CAA3B,EAAsED,KAAtE,CADuB,EAAxB,CAFH,CAKE,6BAAId,OAAO,CAACgB,WAAZ,CALF,CAME,oBAAC,OAAD,EAAS,KAAK,CAAC,QAAf,EACE,oBAAC,IAAD,EAAM,IAAI,CAAEhB,OAAO,CAACiB,aAApB,EADF,YACgD,oBAAC,IAAD,EAAM,IAAI,CAAEjB,OAAO,CAACkB,WAApB,EADhD,CAEE,8BAFF,CAGGlB,OAAO,CAACmB,QAHX,CANF,CADF,CAaE,oBAAC,OAAD,MACE,oBAAC,OAAD,EAAS,OAAO,CAAE,yBAAMZ,CAAAA,YAAY,CAAC,OAAD,CAAlB,EAAlB,CAA+C,MAAM,KAArD,EACE,oBAAC,QAAD,EAAU,KAAK,CAAC,SAAhB,UADF,CADF,CAIE,oBAAC,OAAD,EAAS,OAAO,CAAE,yBAAMA,CAAAA,YAAY,CAAC,iBAAD,CAAlB,EAAlB,CAAyD,MAAM,KAA/D,EACE,oBAAC,QAAD,EAAU,KAAK,CAAC,SAAhB,oBADF,CAJF,CAOE,oBAAC,OAAD,EAAS,OAAO,CAAE,yBAAMA,CAAAA,YAAY,CAAC,mBAAD,CAAlB,EAAlB,CAA2D,MAAM,KAAjE,EACE,oBAAC,QAAD,EAAU,KAAK,CAAC,SAAhB,sBADF,CAPF,CAUE,oBAAC,OAAD,EAAS,OAAO,CAAE,yBAAMA,CAAAA,YAAY,CAAC,gBAAD,CAAlB,EAAlB,CAAwD,MAAM,KAA9D,EACE,oBAAC,QAAD,EAAU,KAAK,CAAC,SAAhB,mBADF,CAEE,oBAAC,OAAD,EAAS,IAAI,CAAC,KAAd,CAAoB,KAAK,CAAC,SAA1B,CAAoC,IAAI,CAAC,OAAzC,CAAiD,IAAI,CAAEZ,aAAvD,EAFF,CAVF,CAcE,oBAAC,OAAD,EAAS,OAAO,CAAE,yBAAMY,CAAAA,YAAY,CAAC,gBAAD,CAAlB,EAAlB,CAAwD,MAAM,KAA9D,EACE,oBAAC,QAAD,EAAU,KAAK,CAAC,SAAhB,mBADF,CAdF,CAbF,CAnBF,CADF,CAsDD,CAtED,CAwEA,cAAelB,CAAAA,OAAO,CAAsC,CAC1D+B,eAAe,CAAE,yBAACC,KAAD,CAAQC,QAAR,QAAsB,CACrCtB,OAAO,CAAET,SAAS,CAACgC,UAAV,CAAqBF,KAArB,CAA4BC,QAA5B,CAD4B,CAErCrB,gBAAgB,CAAEoB,KAAK,CAACG,IAAN,CAAWC,SAFQ,CAAtB,EADyC,CAK1DC,kBAAkB,CAAE,CAClB7B,WAAW,CAAXA,WADkB,CAElBC,cAAc,CAAdA,cAFkB,CALsC,CAS1D6B,SAAS,CAAErC,UAAU,CAACS,aAAD,CATqC,CAAtC,CAAtB","sourcesContent":["import React from 'react';\nimport { IonHeader, IonToolbar, IonContent, IonPage, IonButtons, IonBackButton, IonButton, IonIcon, IonText, IonList, IonItem, IonLabel } from '@ionic/react';\nimport { connect } from '../data/connect';\nimport { withRouter, RouteComponentProps } from 'react-router';\nimport * as selectors from '../data/selectors';\nimport { starOutline, star, share, cloudDownload } from 'ionicons/icons';\nimport './SessionDetail.scss';\nimport { Time } from '../components/Time';\nimport { addFavorite, removeFavorite } from '../data/sessions/sessions.actions';\nimport { Session } from '../models/Session';\n\ninterface OwnProps extends RouteComponentProps { };\n\ninterface StateProps {\n  session?: Session;\n  favoriteSessions: number[],\n};\n\ninterface DispatchProps {\n  addFavorite: typeof addFavorite;\n  removeFavorite: typeof removeFavorite;\n}\n\ntype SessionDetailProps = OwnProps & StateProps & DispatchProps;\n\nconst SessionDetail: React.FC<SessionDetailProps> = ({ session, addFavorite, removeFavorite, favoriteSessions }) => {\n\n  if (!session) {\n    return <div>Session not found</div>\n  }\n\n  const isFavorite = favoriteSessions.indexOf(session.id) > -1;\n  \n  const toggleFavorite = () => { \n    isFavorite ? removeFavorite(session.id) : addFavorite(session.id);\n  };\n  const shareSession = () => { };\n  const sessionClick = (text: string) => { \n    console.log(`Clicked ${text}`);\n  };\n\n  return (\n    <IonPage id=\"session-detail-page\">\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/tabs/schedule\"></IonBackButton>\n          </IonButtons>\n          <IonButtons slot=\"end\">\n            <IonButton onClick={() => toggleFavorite()}>\n              {isFavorite ?\n                <IonIcon slot=\"icon-only\" icon={star}></IonIcon> :\n                <IonIcon slot=\"icon-only\" icon={starOutline}></IonIcon>\n              }\n            </IonButton>\n            <IonButton onClick={() => shareSession}>\n              <IonIcon slot=\"icon-only\" icon={share}></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <div className=\"ion-padding\">\n          <h1>{session.name}</h1>\n          {session.tracks.map(track => (\n            <span key={track} className={`session-track-${track.toLowerCase()}`}>{track}</span>\n          ))}\n          <p>{session.description}</p>\n          <IonText color=\"medium\">\n            <Time date={session.dateTimeStart} /> &ndash; <Time date={session.dateTimeEnd} />\n            <br />\n            {session.location}\n          </IonText>\n        </div>\n        <IonList>\n          <IonItem onClick={() => sessionClick('watch')} button>\n            <IonLabel color=\"primary\">Watch</IonLabel>\n          </IonItem>\n          <IonItem onClick={() => sessionClick('add to calendar')} button>\n            <IonLabel color=\"primary\">Add to Calendar</IonLabel>\n          </IonItem>\n          <IonItem onClick={() => sessionClick('mark as unwatched')} button>\n            <IonLabel color=\"primary\">Mark as Unwatched</IonLabel>\n          </IonItem>\n          <IonItem onClick={() => sessionClick('download video')} button>\n            <IonLabel color=\"primary\">Download Video</IonLabel>\n            <IonIcon slot=\"end\" color=\"primary\" size=\"small\" icon={cloudDownload}></IonIcon>\n          </IonItem>\n          <IonItem onClick={() => sessionClick('leave feedback')} button>\n            <IonLabel color=\"primary\">Leave Feedback</IonLabel>\n          </IonItem>\n        </IonList>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default connect<OwnProps, StateProps, DispatchProps>({\n  mapStateToProps: (state, OwnProps) => ({\n    session: selectors.getSession(state, OwnProps),\n    favoriteSessions: state.data.favorites\n  }),\n  mapDispatchToProps: {\n    addFavorite,\n    removeFavorite\n  },\n  component: withRouter(SessionDetail)\n})"]},"metadata":{},"sourceType":"module"}